<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Strawberry Universe üçì</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        :root {
            --pastel-pink: #ffdee9;
            --strawberry-red: #ff5e78;
            --soft-green: #b5ead7;
            --text-color: #7a4a4a;
        }

        body, html {
            margin: 0; padding: 0;
            font-family: 'Press Start 2P', cursive;
            background-color: var(--pastel-pink);
            color: var(--text-color);
            overflow: hidden;
            display: flex; justify-content: center; align-items: center;
            height: 100vh;
        }

        #game-container {
            width: 100%; max-width: 500px;
            height: 90vh;
            background: #fff;
            border: 8px solid var(--strawberry-red);
            border-radius: 20px;
            position: relative;
            box-shadow: 0 10px 0 #fbafbc;
            overflow: hidden;
        }

        /* Minecraft Love Bar */
        #ui-layer {
            position: absolute; top: 20px; left: 0; width: 100%;
            display: flex; justify-content: center; gap: 5px;
            z-index: 100;
        }
        .heart {
            width: 25px; height: 25px;
            background: var(--strawberry-red);
            clip-path: polygon(50% 15%, 80% 0%, 100% 20%, 100% 50%, 50% 100%, 0% 50%, 0% 20%, 20% 0%);
            transition: transform 0.3s;
        }

        /* Screen States */
        .screen {
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100%;
            text-align: center;
            padding: 20px;
        }
        .active { display: flex; }

        button {
            background: var(--strawberry-red);
            color: white;
            border: none;
            padding: 15px 25px;
            font-family: 'Press Start 2P', cursive;
            font-size: 12px;
            cursor: pointer;
            margin: 10px;
            border-radius: 5px;
            box-shadow: 0 5px 0 #d13d55;
        }
        button:active { transform: translateY(3px); box-shadow: 0 2px 0 #d13d55; }

        #no-button { position: absolute; transition: 0.1s ease; }

        /* Level Specifics */
        canvas { background: #fffcf2; border-top: 4px solid var(--strawberry-red); }
        .quiz-option { width: 80%; margin: 5px; font-size: 10px; }
        
        .polaroid {
            background: white; padding: 10px 10px 30px 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transform: rotate(-3deg);
            width: 200px; margin-bottom: 20px;
        }
        .photo-placeholder { background: #eee; width: 100%; height: 180px; display: flex; align-items: center; justify-content: center; }
    </style>
</head>
<body>

    <div id="game-container">
        <div id="ui-layer">
            <div class="heart"></div><div class="heart"></div><div class="heart"></div>
            <div class="heart"></div><div class="heart"></div><div class="heart"></div>
            <div class="heart"></div><div class="heart"></div><div class="heart"></div>
            <div class="heart"></div>
        </div>

        <div id="screen-start" class="screen active">
            <h1 style="font-size: 18px;">STRAWBERRY ADVENTURE</h1>
            <p style="font-size: 10px;">Our 1st Month</p>
            <button onclick="nextScreen('screen-love1')">START ADVENTURE</button>
        </div>

        <div id="screen-love1" class="screen">
            <h2>Do you love me?</h2>
            <button onclick="nextScreen('screen-love2')">YES</button>
            <button onclick="nextScreen('screen-love2')">YES</button>
        </div>

        <div id="screen-love2" class="screen">
            <h2>Do you love me?</h2>
            <button onclick="nextLevel()">YES</button>
            <button id="no-button" onmouseover="dodge()">NO</button>
        </div>

        <div id="screen-quiz" class="screen">
            <h3 id="quiz-question" style="font-size: 14px;"></h3>
            <div id="quiz-options"></div>
        </div>

        <div id="screen-flappy" class="screen">
            <canvas id="flappyCanvas" width="400" height="500"></canvas>
            <p style="font-size: 8px; margin-top: 10px;">Tap to fly over distances!</p>
        </div>

        <div id="screen-final" class="screen">
            <div class="polaroid">
                <div class="photo-placeholder">üçì</div>
            </div>
            <h3>Happy 1 Month!</h3>
            <p id="countdown" style="font-size: 10px;"></p>
            <button onclick="location.reload()">REPLAY</button>
        </div>
    </div>

    <script>
        let currentLevel = 0;
        
        // --- Navigation Logic ---
        function nextScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function dodge() {
            const btn = document.getElementById('no-button');
            const x = Math.random() * (window.innerWidth - 100);
            const y = Math.random() * (window.innerHeight - 100);
            btn.style.left = x + 'px';
            btn.style.top = y + 'px';
        }

        // --- Level Controller ---
        function nextLevel() {
            currentLevel++;
            if (currentLevel === 1) startQuiz();
            if (currentLevel === 2) startFlappy();
            if (currentLevel === 3) nextScreen('screen-final'); // Skipping to final for demo length
        }

        // --- Level 1: Quiz ---
        const quizData = [
            { q: "Best way to spend 3 AM?", a: ["FaceTime Sleep", "Watching Netflix", "Gaming"], c: 0 },
            { q: "Our LDR superpower?", a: ["Patience", "High Phone Battery", "Cute Selfies"], c: 1 }
        ];
        let qIndex = 0;

        function startQuiz() {
            nextScreen('screen-quiz');
            showQuestion();
        }

        function showQuestion() {
            if(qIndex >= quizData.length) return nextLevel();
            const data = quizData[qIndex];
            document.getElementById('quiz-question').innerText = data.q;
            const container = document.getElementById('quiz-options');
            container.innerHTML = '';
            data.a.forEach((opt, i) => {
                const btn = document.createElement('button');
                btn.className = 'quiz-option';
                btn.innerText = opt;
                btn.onclick = () => { qIndex++; showQuestion(); };
                container.appendChild(btn);
            });
        }

        // --- Level 3: Flappy Strawberry ---
        function startFlappy() {
            nextScreen('screen-flappy');
            const canvas = document.getElementById('flappyCanvas');
            const ctx = canvas.getContext('2d');
            let birdY = 250, velocity = 0, pipes = [], frames = 0;

            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                velocity += 0.3; birdY += velocity;
                ctx.fillStyle = "red";
                ctx.fillRect(50, birdY, 30, 30); // The Strawberry

                if (frames % 100 === 0) pipes.push({ x: 400, h: Math.random() * 200 + 50 });
                pipes.forEach((p, i) => {
                    p.x -= 2;
                    ctx.fillStyle = "var(--soft-green)";
                    ctx.fillRect(p.x, 0, 50, p.h);
                    ctx.fillRect(p.x, p.h + 120, 50, canvas.height);
                    if(p.x < -50) pipes.splice(i, 1);
                    // Minimal collision check
                    if(50 > p.x && 50 < p.x + 50 && (birdY < p.h || birdY > p.h + 90)) birdY = 250; 
                    if(frames > 500 && p.x < 0) { nextLevel(); frames = -10000; } // Win condition
                });

                frames++;
                if(frames > 0) requestAnimationFrame(draw);
            }
            canvas.onclick = () => velocity = -6;
            draw();
        }

        // --- Final Screen Countdown ---
        function updateCountdown() {
            const nextDate = new Date();
            nextDate.setMonth(nextDate.getMonth() + 1);
            const now = new Date();
            const diff = nextDate - now;
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            document.getElementById('countdown').innerText = `Next Date in: ${days} Days`;
        }
        updateCountdown();

    </script>
</body>
</html>
